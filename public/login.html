<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign In ‚Äî Launch Tracker</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üåê</text></svg>" />
  <link rel="stylesheet" href="/style.css" />
  <script>document.documentElement.setAttribute('data-theme', localStorage.getItem('theme') || 'light');</script>
  <style>
    .login-wrap {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1.5rem;
    }
    .login-box {
      width: 100%;
      max-width: 380px;
    }
    .login-logo {
      text-align: center;
      margin-bottom: 2rem;
    }
    .login-logo img {
      height: 48px;
      width: auto;
      object-fit: contain;
    }
    .login-logo .text-brand {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--primary);
    }
    .login-logo .text-brand span { color: var(--text); }
    .login-box h1 { font-size: 1.2rem; margin-bottom: .25rem; }
    .login-box .subtitle { margin-bottom: 1.5rem; }
    .login-error {
      background: #fee2e2;
      color: #991b1b;
      border-radius: 7px;
      padding: .65rem .9rem;
      font-size: .84rem;
      margin-bottom: 1.25rem;
      display: none;
    }
    .btn-google {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .65rem;
      width: 100%;
      padding: .7rem 1rem;
      background: #fff;
      color: #3c4043;
      border: 1.5px solid #dadce0;
      border-radius: 7px;
      font-size: .9rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      text-decoration: none;
      transition: background .15s, box-shadow .15s;
      box-shadow: 0 1px 3px rgba(0,0,0,.08);
    }
    .btn-google:hover {
      background: #f8f9fa;
      box-shadow: 0 2px 8px rgba(0,0,0,.12);
    }
    [data-theme="dark"] .btn-google {
      background: #1e293b;
      color: #f1f5f9;
      border-color: #334155;
    }
    [data-theme="dark"] .btn-google:hover { background: #263347; }
    .login-domain {
      text-align: center;
      font-size: .75rem;
      color: var(--text-muted);
      margin-top: 1rem;
    }
  </style>
</head>
<body>
<div class="login-wrap">
  <div class="login-box">
    <div class="login-logo">
      <img src="/logo.png" alt="Logo" onerror="this.style.display='none';document.getElementById('text-brand').style.display='block'" />
      <div class="text-brand" id="text-brand" style="display:none"><span>Launch</span>Tracker</div>
    </div>
    <div class="card">
      <h1>Dashboard Sign In</h1>
      <p class="subtitle">Sign in with your Real Work Labs Google account.</p>
      <div class="login-error" id="login-error"></div>
      <a href="/auth/google" class="btn-google">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18">
          <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
          <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
          <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"/>
          <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
        </svg>
        Sign in with Google
      </a>
      <p class="login-domain">Restricted to @realworklabs.com accounts</p>
    </div>
  </div>
</div>

<button id="dark-toggle" title="Toggle dark mode" onclick="toggleDark()">üåô</button>

<script>
function toggleDark() {
  const next = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
  document.documentElement.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
  document.getElementById('dark-toggle').textContent = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
}
(function() {
  const saved = localStorage.getItem('theme') || 'light';
  document.getElementById('dark-toggle').textContent = saved === 'dark' ? '‚òÄÔ∏è' : 'üåô';

  const msgs = {
    domain:    'Access is restricted to @realworklabs.com accounts.',
    cancelled: 'Sign-in was cancelled.',
    failed:    'Something went wrong. Please try again.',
  };
  const err = new URLSearchParams(location.search).get('error');
  if (err) {
    const el = document.getElementById('login-error');
    el.textContent = msgs[err] || 'Sign-in failed.';
    el.style.display = 'block';
  }
})();
</script>
</body>
</html>
